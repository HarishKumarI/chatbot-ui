# **API Details**

### **#Create Session**

API for initializing session.

**URL**

`/api/test-create-session`

### **Request**

**Headers**
| | | |
|---|---|---|
| session* | `String` | Session Id |

**Body Parameters**

| | | |
|  --- | --- | --- |
| context ( optional ) | `String` | empty or link of the page user visited |
|  timestamp   | `String` | timestamp when the session was initialized |
|  channel*    |  `String` | chatbot name |


### **Response**

| | | |
|---|---|---|
| bot_response| `JSON` |  response generated by the `bot`. |
| session_id | `String` | session id authuntication |
| time_taken | `String` | time taken by the engine to generate the response | 


**Bot Response**
| | | |
|---|---|---|
| content | `String | Markdown String` |  response generated by the `bot` in the form of markdown. |
| footer_options | `List` | list of questions in the form of nudges that user can ask |
| markdown | `Boolean` | Boolean value to trigger when the content is nor mal or markdown string. |
| type | `String` | to trigger different types of UI Visualizations. ex: `Form`, `Text`, `Card` & `Carousel` | 

**Sample cURL Command**


```
curl --location --request POST '/api/test-create-session' \
--header 'Content-Type: text/plain' \
--header 'Cookie: session=<footer_optionsfooter_optionsSession_id>' \
--data-raw '{
    "context": null,
    "timestamp": "",
    "channel": "cognichat"
}'
```

**Response Sample**
```
{
    "bot_response": [
        {
            "content": "<Welcome msg />",
            "footer_options": [  ], 
            "markdown": true,
            "type": "TEXT"
        }
    ],
    "session_id": "<Session id/>",
    "time_taken": "time in Seconds"
}
```



### **User Query**


API for getting response for user query.

**URL**

`/api/test-user-query`

### **Request**

**Headers**
| | | |
|---|---|---|
| session* | `String` | Session Id |

**Body Parameters**

| | | |
|  --- | --- | --- |
| query    | `String`  | User query |
| form     | `null | String`  | form submission values |
| nudge    | `Boolean` | If it is part of pre-populated questions |
| channel* |  `String` | chatbot name |

### **Response**

| | | |
|---|---|---|
| bot_response| `List` | List of responses generated by the `bot` |
| message_id | `Integer` | message Id given by engine |
| session_id | `String` | session id authuntication |
| time_taken | `String` | time taken by the engine to generate the response | 


**Sample cURL Command**


```
curl --location --request POST '/api/test-user-query' \
--header 'Content-Type: text/plain' \
--header 'Cookie: session=747cbf11-4c9d-4681-a138-7b548b971642' \
--data-raw '{
    "query": "form",
    "form": null,
    "channel": "cognichat",
    "nudge": true
}'
```

**Response Sample**
```
{
    "bot_response": [  ],
    "message_id": 0,
    "session_id": "kfdof okd ",
    "time_taken": "3 sec"
}
```

### **Types of Bot Responses**

**1)  Text**

**Response Sample**

```

```